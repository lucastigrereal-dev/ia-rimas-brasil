# ğŸ“‹ TODO.yaml - Fila de Tarefas para Modo Noturno
# IA Rimas Brasil - Tarefas AutomatizÃ¡veis

# Metadados
version: "1.0.0"
updated: "2026-01-09"
project: "ia-rimas-brasil"

# Tarefas Ordenadas por Prioridade
tasks:
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # P0 - CRÃTICO (fazer primeiro)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  
  - id: "task_001"
    title: "Criar tipo User completo"
    description: |
      Criar arquivo src/types/user.ts com interface User contendo:
      - id, email, displayName, photoURL
      - level, xp, streak, streakBest
      - drillsCompleted, totalScore
      - badges (array de strings)
      - createdAt, lastActive
    priority: 1
    category: "types"
    difficulty: 1
    estimated_minutes: 10
    files_to_create:
      - "src/types/user.ts"
    acceptance_criteria:
      - "Interface User exportada"
      - "Todos os campos tipados corretamente"
      - "ComentÃ¡rios JSDoc em cada campo"
    status: "done"

  - id: "task_002"
    title: "Criar tipo Drill completo"
    description: |
      Criar arquivo src/types/drill.ts com interfaces:
      - Drill: id, title, description, category, difficulty, xpReward
      - DrillContent: instructions, examples, words
      - DrillCategory: 'som' | 'ritmo' | 'sentido' | 'batalha'
    priority: 1
    category: "types"
    difficulty: 1
    estimated_minutes: 10
    files_to_create:
      - "src/types/drill.ts"
    acceptance_criteria:
      - "Interface Drill exportada"
      - "Enum DrillCategory exportado"
      - "Tipos bem documentados"
    status: "done"

  - id: "task_003"
    title: "Criar tipo Progress"
    description: |
      Criar arquivo src/types/progress.ts com interfaces:
      - DrillProgress: userId, drillId, attempts, bestScore, stars
      - UserProgress: totalXp, level, streak, completedDrills
    priority: 1
    category: "types"
    difficulty: 1
    estimated_minutes: 10
    files_to_create:
      - "src/types/progress.ts"
    acceptance_criteria:
      - "Interfaces exportadas"
      - "Stars tipado como 0 | 1 | 2 | 3"
    status: "done"

  - id: "task_004"
    title: "Criar utilitÃ¡rio de XP"
    description: |
      Criar arquivo src/utils/xp.ts com funÃ§Ãµes:
      - calculateXP(baseXP, modifiers): calcula XP total
      - getXPForLevel(level): retorna XP necessÃ¡rio
      - getLevelFromXP(xp): retorna nÃ­vel atual
      - getXPProgress(xp): retorna % para prÃ³ximo nÃ­vel
    priority: 1
    category: "utils"
    difficulty: 2
    estimated_minutes: 15
    files_to_create:
      - "src/utils/xp.ts"
    acceptance_criteria:
      - "FunÃ§Ãµes puras, sem side effects"
      - "Testes passando"
      - "FÃ³rmula de XP documentada"
    status: "done"

  - id: "task_005"
    title: "Criar utilitÃ¡rio de Streak"
    description: |
      Criar arquivo src/utils/streak.ts com funÃ§Ãµes:
      - checkStreak(lastDate, today): verifica se streak continua
      - calculateStreakBonus(streak): retorna % de bÃ´nus
      - getStreakStatus(streak): retorna 'fire' | 'warm' | 'cold'
    priority: 1
    category: "utils"
    difficulty: 2
    estimated_minutes: 15
    files_to_create:
      - "src/utils/streak.ts"
    acceptance_criteria:
      - "LÃ³gica de datas correta"
      - "Streak reseta se pular 1 dia"
      - "BÃ´nus mÃ¡ximo de 70%"
    status: "done"

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # P1 - IMPORTANTE (fazer depois do P0)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - id: "task_006"
    title: "Criar componente XPBar"
    description: |
      Criar componente React src/components/XPBar.tsx que mostra:
      - Barra de progresso colorida (verde -> amarelo -> vermelho)
      - XP atual / XP para prÃ³ximo nÃ­vel
      - NÃ­vel atual
      - AnimaÃ§Ã£o ao ganhar XP
    priority: 2
    category: "components"
    difficulty: 2
    estimated_minutes: 20
    files_to_create:
      - "src/components/XPBar.tsx"
    dependencies:
      - "task_004"
    acceptance_criteria:
      - "Recebe props: currentXP, level"
      - "Usa Tailwind para estilos"
      - "AnimaÃ§Ã£o suave"
      - "Responsivo"
    status: "done"

  - id: "task_007"
    title: "Criar componente StreakFire"
    description: |
      Criar componente React src/components/StreakFire.tsx que mostra:
      - Ãcone de fogo animado
      - NÃºmero de dias de streak
      - Tamanho do fogo cresce com streak
      - Cor muda: vermelho (1-3), laranja (4-6), azul (7+)
    priority: 2
    category: "components"
    difficulty: 2
    estimated_minutes: 20
    files_to_create:
      - "src/components/StreakFire.tsx"
    dependencies:
      - "task_005"
    acceptance_criteria:
      - "AnimaÃ§Ã£o CSS do fogo"
      - "3 tamanhos: small, medium, large"
      - "Cor dinÃ¢mica"
    status: "done"

  - id: "task_008"
    title: "Criar componente DrillCard"
    description: |
      Criar componente React src/components/DrillCard.tsx que mostra:
      - TÃ­tulo e descriÃ§Ã£o do drill
      - Categoria com Ã­cone (ğŸµ som, ğŸ¶ ritmo, ğŸ’¬ sentido, âš”ï¸ batalha)
      - Dificuldade (1-5 estrelas)
      - XP reward
      - Status: bloqueado, disponÃ­vel, completado
      - BotÃ£o de jogar
    priority: 2
    category: "components"
    difficulty: 3
    estimated_minutes: 25
    files_to_create:
      - "src/components/DrillCard.tsx"
    dependencies:
      - "task_002"
    acceptance_criteria:
      - "Props tipadas com interface Drill"
      - "Estados visuais distintos"
      - "Hover effect"
      - "onClick handler"
    status: "done"

  - id: "task_009"
    title: "Criar componente LeaderboardRow"
    description: |
      Criar componente React src/components/LeaderboardRow.tsx que mostra:
      - PosiÃ§Ã£o (#1, #2, #3 com medalhas)
      - Avatar do usuÃ¡rio
      - Nome
      - XP ou pontuaÃ§Ã£o
      - Indicador de subida/descida
    priority: 2
    category: "components"
    difficulty: 2
    estimated_minutes: 15
    files_to_create:
      - "src/components/LeaderboardRow.tsx"
    acceptance_criteria:
      - "Top 3 tem estilo especial"
      - "Highlight se for o usuÃ¡rio atual"
      - "AnimaÃ§Ã£o de entrada"
    status: "done"

  - id: "task_010"
    title: "Criar componente BadgeIcon"
    description: |
      Criar componente React src/components/BadgeIcon.tsx que mostra:
      - Ãcone do badge
      - Tooltip com nome e descriÃ§Ã£o
      - Estado: conquistado, bloqueado
      - AnimaÃ§Ã£o ao conquistar
    priority: 2
    category: "components"
    difficulty: 2
    estimated_minutes: 15
    files_to_create:
      - "src/components/BadgeIcon.tsx"
    acceptance_criteria:
      - "Suporta todos os badges do sistema"
      - "Grayscale quando bloqueado"
      - "Tooltip funcional"
    status: "done"

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # P2 - DESEJÃVEL (fazer se sobrar tempo)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - id: "task_011"
    title: "Criar hook useLocalStorage"
    description: |
      Criar hook src/hooks/useLocalStorage.ts para persistÃªncia local:
      - Getter/setter tipado
      - SerializaÃ§Ã£o JSON automÃ¡tica
      - Fallback para valor default
      - Sync entre abas
    priority: 3
    category: "hooks"
    difficulty: 2
    estimated_minutes: 15
    files_to_create:
      - "src/hooks/useLocalStorage.ts"
    acceptance_criteria:
      - "GenÃ©rico: useLocalStorage<T>(key, defaultValue)"
      - "Trata erros de parse"
      - "Testes passando"
    status: "done"

  - id: "task_012"
    title: "Criar hook useTimer"
    description: |
      Criar hook src/hooks/useTimer.ts para drills cronometrados:
      - startTimer, pauseTimer, resetTimer
      - Tempo decorrido
      - Callback onTimeUp
      - FormataÃ§Ã£o mm:ss
    priority: 3
    category: "hooks"
    difficulty: 2
    estimated_minutes: 15
    files_to_create:
      - "src/hooks/useTimer.ts"
    acceptance_criteria:
      - "Cleanup correto no unmount"
      - "Preciso ao segundo"
      - "Suporta countdown"
    status: "done"

  - id: "task_013"
    title: "Criar utilitÃ¡rio de rima"
    description: |
      Criar arquivo src/utils/rhyme.ts com funÃ§Ãµes:
      - getLastSyllable(word): retorna Ãºltima sÃ­laba
      - checkRhyme(word1, word2): verifica se rimam
      - getRhymeScore(word1, word2): 0-100 quÃ£o bem rimam
      - getSuggestedRhymes(word, bank): sugestÃµes do banco
    priority: 3
    category: "utils"
    difficulty: 3
    estimated_minutes: 25
    files_to_create:
      - "src/utils/rhyme.ts"
    acceptance_criteria:
      - "Funciona com portuguÃªs BR"
      - "Trata acentos corretamente"
      - "Performance OK (< 10ms)"
    status: "done"

  - id: "task_014"
    title: "Criar componente ProgressCalendar"
    description: |
      Criar componente React src/components/ProgressCalendar.tsx:
      - CalendÃ¡rio estilo GitHub contribution graph
      - Cores por intensidade de treino
      - Tooltip com detalhes do dia
      - NavegaÃ§Ã£o por mÃªs
    priority: 3
    category: "components"
    difficulty: 3
    estimated_minutes: 30
    files_to_create:
      - "src/components/ProgressCalendar.tsx"
    acceptance_criteria:
      - "7 colunas (dom-sab)"
      - "5-6 linhas por mÃªs"
      - "Cores: cinza, verde claro, verde mÃ©dio, verde escuro"
    status: "pending"

  - id: "task_015"
    title: "Criar componente ShareCard"
    description: |
      Criar componente React src/components/ShareCard.tsx:
      - Card visual para compartilhar no Instagram/TikTok
      - Mostra: nome, nÃ­vel, streak, score do dia
      - EstÃ©tica: escura, neon, trap
      - BotÃ£o de copiar/salvar imagem
    priority: 3
    category: "components"
    difficulty: 3
    estimated_minutes: 30
    files_to_create:
      - "src/components/ShareCard.tsx"
    acceptance_criteria:
      - "DimensÃµes 1080x1080 (quadrado)"
      - "Fundo escuro com gradiente"
      - "Logo do app"
      - "Hashtag #RimaQueVicia"
    status: "pending"

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # TESTES (rodar em paralelo)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  - id: "task_020"
    title: "Testes para utilitÃ¡rio XP"
    description: |
      Criar testes src/__tests__/utils/xp.test.ts:
      - Testa cÃ¡lculo de XP
      - Testa progressÃ£o de nÃ­veis
      - Testa edge cases (XP negativo, nÃ­vel 0)
    priority: 2
    category: "tests"
    difficulty: 2
    estimated_minutes: 15
    files_to_create:
      - "src/__tests__/utils/xp.test.ts"
    dependencies:
      - "task_004"
    acceptance_criteria:
      - "Coverage > 80%"
      - "Testa casos de borda"
    status: "pending"

  - id: "task_021"
    title: "Testes para utilitÃ¡rio Streak"
    description: |
      Criar testes src/__tests__/utils/streak.test.ts:
      - Testa continuidade de streak
      - Testa reset de streak
      - Testa bÃ´nus de streak
    priority: 2
    category: "tests"
    difficulty: 2
    estimated_minutes: 15
    files_to_create:
      - "src/__tests__/utils/streak.test.ts"
    dependencies:
      - "task_005"
    acceptance_criteria:
      - "Coverage > 80%"
      - "Testa com diferentes timezones"
    status: "pending"

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# CONFIGURAÃ‡Ã•ES
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

config:
  max_tasks_per_cycle: 3
  prefer_categories:
    - "types"      # Mais seguros
    - "utils"      # TestÃ¡veis
    - "components" # VerificÃ¡veis visualmente
    - "hooks"      # Mais complexos
    - "tests"      # Sempre bem-vindos
  
  skip_if_dependencies_pending: true
  run_tests_after_each_task: true
  
  # Categorias com risco
  high_risk_categories:
    - "services"    # Pode ter side effects
    - "api"         # Pode vazar dados
    - "auth"        # SeguranÃ§a
